<html>
	<head>
		<title>Gee-Mail</title>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(showMsg){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
				console.table(window.geemails);
				console.log(window.geemails[0]);

				for(var i=0; i<window.geemails.length; i++){
				var object = document.createElement('div');
				object.className= 'message';
				object.addEventListener('click', showMsg);
				main.appendChild(object);

				var date = document.createElement('div');
				date.className = 'date';
				date.innerHTML = window.geemails[i].date;
				object.appendChild(date);

				var sender = document.createElement('div');
				sender.className = 'sender';
				sender.innerHTML = window.geemails[i].sender;
				object.appendChild(sender);
				
				var subject = document.createElement('div');
				subject.className = 'subject';
				subject.innerHTML = window.geemails[i].subject;
				object.appendChild(subject);

				var body = document.createElement('div');
				body.className = 'body';
				body.innerHTML = window.geemails[i].body;
				object.appendChild(body);
				}
				
				function showMsg(){
					// console.log(this.innerHTML)
					var msgData = this.querySelectorAll('.body')[0];
				if(msgData.style.display === 'block'){
					msgData.style.display = 'none';
				}else{
					msgData.style.display = 'block';
					}
				}

				 var getMailCount = window.geemails.length;
				 var count = document.createElement('div');
				 count.id = 'count';
				 count.innerHTML = getMailCount;
				 mailCount.appendChild(count);

				console.log(getNewMessage())
				
				function makinEmails(){
					var makinEmails=getNewMessage();

					var newObject=document.createElement('div');
					newObject.className= 'message';
					newObject.addEventListener('click', showNew);
					main.appendChild(newObject);

					var newDate = document.createElement('div');
					newDate.className = 'date';
					newDate.innerHTML = getNewMessage().date;
					newObject.appendChild(newDate);

					var newSender = document.createElement('div');
					newSender.className = 'sender';
					newSender.innerHTML = getNewMessage().sender;
					newObject.appendChild(newSender);

					var newSubject = document.createElement('div');
					newSubject.className = 'subject';
					newSubject.innerHTML = getNewMessage().subject;
					newObject.appendChild(newSubject);

					var newBody = document.createElement('div');
					newBody.className = 'body';
					newBody.innerHTML = getNewMessage().body;
					newObject.appendChild(newBody);

					 getMailCount++;
            		 document.getElementById('count').innerHTML=(getMailCount)
			

				}
				// console.log(getNewMessage(makinEmails))

				setInterval(makinEmails, 10000);

				function showNew(){
					// console.log(this.innerHTML)

					var newMsgData = this.querySelectorAll('.body')[0];
					if(newMsgData.style.display === 'block'){
						newMsgData.style.display = 'none';
					}else{
						newMsgData.style.display = 'block';
						}
					}

		
	};
 	</script>
	</head>
	<header id="intro">
		<div class="openingContent">
			<h1><div id="openingTitle" class="topSegment">
				Gee-Mail</div>
			</h1>
			<div id = "imageBox">
					<img id='pic' class='topSegment' 		src="css/mail.jpeg" alt="mailIcon"/>
			</div>
			<div id="mailCount" class="topSegment"></div>
			<div id="inboxTitle" class="topSegment">Inbox</div>
			<nav id="sidemenu">
					<div class="differentInboxes">
						<a href="starred">Starred</a>
						<a href="snoozedInbox">Snoozed</a>
						<a href="importantInbox">Important</a>
						<a href="socialInbox">Social</a>
						<a href="spamInbox">Spam</a>
						<a href="sentBox">Sent</a>
						<a href="drafts">Drafts</a>
						<a href="trash">Trash</a>
					</div>
			</nav>
	</header>
	<body>
		<div class="container" id="main">
			
				
			</section>
		</div>
		
	</body>
</html>